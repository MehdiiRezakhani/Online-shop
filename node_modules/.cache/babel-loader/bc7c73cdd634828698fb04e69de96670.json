{"ast":null,"code":"import _toConsumableArray from\"C:/Users/asus/Desktop/Practice/OnlineShop-Redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/asus/Desktop/Practice/OnlineShop-Redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={selectedItems:[],itemsCounter:0,total:0,checkout:false};var sumItems=function sumItems(items){var itemsCounter=items.reduce(function(total,product){return total+product.quantity;},0);var total=items.reduce(function(total,product){return total+product.price*product.quantity;},0).toFixed(2);return{itemsCounter:itemsCounter,total:total};};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;console.log(action.type);switch(action.type){case\"ADD_ITEM\":if(!state.selectedItems.find(function(item){return item.id===action.payload.id;})){state.selectedItems.push(_objectSpread(_objectSpread({},action.payload),{},{quantity:1}));}return _objectSpread(_objectSpread(_objectSpread({},state),{},{selectedItems:_toConsumableArray(state.selectedItems)},sumItems(state.selectedItems)),{},{checkout:false});case\"REMOVE_ITEM\":var newSelectedItems=state.selectedItems.filter(function(item){return item.id!==action.payload.id;});return _objectSpread(_objectSpread({},state),{},{selectedItems:_toConsumableArray(newSelectedItems)},sumItems(newSelectedItems));case\"INCREASE\":var indexI=state.selectedItems.findIndex(function(item){return item.id===action.payload.id;});state.selectedItems[indexI].quantity++;return _objectSpread(_objectSpread({},state),sumItems(state.selectedItems));case\"DECREASE\":var indexD=state.selectedItems.findIndex(function(item){return item.id===action.payload.id;});state.selectedItems[indexD].quantity--;return _objectSpread(_objectSpread({},state),sumItems(state.selectedItems));case\"CHECKOUT\":return{selectedItems:[],itemsCounter:0,total:0,checkout:true};case\"CLEAR\":return{selectedItems:[],itemsCounter:0,total:0,checkout:false};default:return state;}};export default cartReducer;","map":{"version":3,"sources":["C:/Users/asus/Desktop/Practice/OnlineShop-Redux/src/redux/cart/cartReducer.js"],"names":["initialState","selectedItems","itemsCounter","total","checkout","sumItems","items","reduce","product","quantity","price","toFixed","cartReducer","state","action","console","log","type","find","item","id","payload","push","newSelectedItems","filter","indexI","findIndex","indexD"],"mappings":"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","sourcesContent":["const initialState = {\r\n    selectedItems: [],\r\n    itemsCounter: 0,\r\n    total: 0,\r\n    checkout: false\r\n}\r\n\r\nconst sumItems = items => {\r\n    const itemsCounter = items.reduce((total, product) => total + product.quantity, 0);\r\n    let total = items.reduce((total, product) => total + product.price * product.quantity, 0).toFixed(2);\r\n    return {itemsCounter, total}\r\n}\r\n\r\nconst cartReducer = (state=initialState, action) => {\r\n    console.log(action.type)\r\n    switch(action.type) {\r\n        case \"ADD_ITEM\":\r\n            if (!state.selectedItems.find(item => item.id === action.payload.id)) {\r\n                state.selectedItems.push({\r\n                    ...action.payload,\r\n                    quantity: 1\r\n                })\r\n            }\r\n            return {\r\n                ...state,\r\n                selectedItems: [...state.selectedItems],\r\n                ...sumItems(state.selectedItems),\r\n                checkout: false\r\n            }\r\n        case \"REMOVE_ITEM\":\r\n            const newSelectedItems = state.selectedItems.filter(item => item.id !== action.payload.id);\r\n            return {\r\n                ...state,\r\n                selectedItems: [...newSelectedItems],\r\n                ...sumItems(newSelectedItems)\r\n\r\n            }\r\n        case \"INCREASE\":\r\n            const indexI = state.selectedItems.findIndex(item => item.id === action.payload.id);\r\n            state.selectedItems[indexI].quantity++;\r\n            return {\r\n                ...state,\r\n                ...sumItems(state.selectedItems)\r\n\r\n            }\r\n        case \"DECREASE\":\r\n            const indexD = state.selectedItems.findIndex(item => item.id === action.payload.id);\r\n            state.selectedItems[indexD].quantity--;\r\n            return {\r\n                ...state,\r\n                ...sumItems(state.selectedItems)\r\n\r\n            }\r\n        case \"CHECKOUT\" :\r\n            return {\r\n                selectedItems: [],\r\n                itemsCounter: 0,\r\n                total: 0,\r\n                checkout: true\r\n            }\r\n        case \"CLEAR\":\r\n            return {\r\n                selectedItems: [],\r\n                itemsCounter: 0,\r\n                total: 0,\r\n                checkout: false\r\n            }\r\n        default: \r\n            return state;\r\n    }   \r\n}\r\n\r\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}